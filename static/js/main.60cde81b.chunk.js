(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(25)},21:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);for(var a=n(0),o=n.n(a),s=n(5),r=n.n(s),i=(n(21),n(6)),c=n(7),l=n(10),u=n(8),m=n(11),d=n(9),h=n.n(d),g=(n(23),["#7cbb00","#f65314","#ffbb00","#00a1f1"]),f=[new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3")],v=0;v<f.length;v++){f[v].load()}var p={gameOver:"Game Over",wrong:"Oops.",correct:"Correct!",won:"You' beaten the game!"},w=function(e){return o.a.createElement("button",{className:e.className,style:{backgroundColor:e.color,color:"white"},onMouseDown:e.onMouseDown,disabled:!e.clickable,id:e.index})},S=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).lightUp=function(){var e=n.state.colors,t=n.state.sequence,a=0,o=setInterval(function(){var n=e.indexOf(t[a]);b(n);var s=document.getElementById(n);s.classList.add("lightup"),setTimeout(function(){s.classList.remove("lightup")},800),(a+=1)>=t.length&&clearInterval(o)},1200);n.setState({intervalKey:o})},n.startGame=function(e){if(n.setState({gameStarted:!0,gameMessage:""}),e&&n.state.sequence.length>=20)n.endGame();else{if(e){var t=n.state.sequence;t.push((a=g)[Math.floor(4*Math.random(a.length))]),n.setState({sequence:t})}var a;n.lightUp();var o=setTimeout(function(){n.setState({buttonClickable:!0})},1200*n.state.sequence.length+500);n.setState({timeOutKey:o})}},n.endGame=function(){clearInterval(n.state.intervalKey),clearTimeout(n.state.timeOutKey);var e=n.state.sequence.length;n.setState({sequence:[],stepCount:0,buttonClickable:!1,intervalKey:null,gameStarted:!1,isStrict:!1,gameMessage:e>=20?p.won:p.gameOver})},n.toggleStrict=function(){n.setState(function(e){return{isStrict:!e.isStrict}})},n.restartSequence=function(){clearInterval(n.state.intervalKey),setTimeout(function(){n.startGame(!1)},2e3),n.setState(function(e){return{buttonClickable:!1,intervalKey:null,stepCount:0}})},n.shareTwitter=function(){var e="http://twitter.com/home?status="+encodeURIComponent("My Windows Simon high score is ".concat(n.state.highScore,"! @freeCodeCamp @jianyuan94"));return window.open(e),!1},n.handleColorMouseDown=function(e,t){var a=n.state.stepCount,o=n.state.sequence;if(b(t),e!==o[a])return n.state.isStrict?void n.endGame():(n.restartSequence(),void n.setState({gameMessage:p.wrong}));var s=a+1;if(s===o.length)return n.setState({gameMessage:p.correct}),void setTimeout(function(){var e=n.state.highScore,t=n.state.stepCount+1;n.setState(function(n){return{stepCount:0,buttonClickable:!1,highScore:t>e?t:e}}),n.startGame(!0)},2e3);n.setState({stepCount:s})},n.state={colors:g,sequence:[],stepCount:0,buttonClickable:!1,intervalKey:null,gameStarted:!1,highScore:0,isStrict:!1,gameMessage:"",timeOutKey:null},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.colors.map(function(t,n){return o.a.createElement(w,{style:{backgroundColor:t},className:"colorBtn color"+n,color:t,key:n,onMouseDown:function(){return e.handleColorMouseDown(t,n)},clickable:e.state.buttonClickable,index:n})});return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"sidebar"},o.a.createElement("h1",null,"Windows Square"),o.a.createElement("h3",null,"High Score: ",o.a.createElement("span",{className:"highScore"},this.state.highScore)),o.a.createElement("h3",null,"Current Round: ",o.a.createElement("span",{className:"currentRound"},this.state.sequence.length)),o.a.createElement("h3",null,"Strict",o.a.createElement("span",{className:"checkbox",onClick:this.toggleStrict},o.a.createElement("span",{className:"check",style:this.state.isStrict?{opacity:"1"}:{opacity:"0"}},"\u2714"))),o.a.createElement("div",{className:"ctrlBtn"},o.a.createElement("button",{className:"gameBtn",onClick:this.startGame,disabled:this.state.gameStarted,style:this.state.gameStarted?{opacity:"0.3"}:null},"Start"),o.a.createElement("button",{className:"gameBtn",onClick:this.endGame,disabled:!this.state.gameStarted,style:this.state.gameStarted?null:{opacity:"0.3"}},"End")),o.a.createElement("div",{className:"message"},this.state.gameMessage),o.a.createElement("div",{className:"twitter"},"Tweet your high score!",o.a.createElement("img",{src:h.a,alt:"tweet high score",onClick:this.shareTwitter}))),o.a.createElement("div",{className:"game"},t))}}]),t}(a.Component);function b(e){f[e].play()}var y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(S,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/simon-game",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/simon-game","/service-worker.js");y?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):C(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):C(e)})}}()},9:function(e,t,n){e.exports=n.p+"static/media/twitter.2c64644f.png"}},[[12,2,1]]]);
//# sourceMappingURL=main.60cde81b.chunk.js.map